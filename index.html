<!doctype html>
<html lang="en">
	<head>

		<!-- Google Tag Manager -->
		<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-W8RGXCTR');</script>
		<!-- End Google Tag Manager -->

		<link rel="icon" href="/favicon.ico" type="image/x-icon">

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
		<meta name="theme-color" content="#0b1220" media="(prefers-color-scheme: dark)">
		<meta
			name="description"
			content="theflat.gen.nz we've never been closer."
		>
		<link rel="canonical" href="https://theflat.gen.nz/">

		<meta property="og:type" content="website">
		<meta property="og:title" content="theflat.gen.nz">
		<meta
			property="og:description"
			content="theflat.gen.nz we've never been closer."
		>
		<meta property="og:url" content="https://theflat.gen.nz/">

		<meta name="twitter:card" content="summary">
		<meta name="twitter:title" content="theflat.gen.nz">
		<meta
			name="twitter:description"
			content="theflat.gen.nz we've never been closer."
		>

		<script type="application/ld+json">
			{
				"@context": "https://schema.org",
				"@graph": [
					{
						"@type": "WebSite",
						"@id": "https://theflat.gen.nz/#website",
						"url": "https://theflat.gen.nz/",
						"name": "theflat.gen.nz",
						"description": "theflat.gen.nz we've never been closer."
					},
					{
						"@type": "Organization",
						"@id": "https://theflat.gen.nz/#organization",
						"url": "https://theflat.gen.nz/",
						"name": "theflat.gen.nz",
						"contactPoint": [
							{
								"@type": "ContactPoint",
								"contactType": "Email Problems",
								"email": "email@theflat.gen.nz"
							}
						]
					}
				]
			}
		</script>
		<title>theflat.gen.nz</title>
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="icon" href="/favicon-96x96.png" type="image/png" sizes="96x96">
		<link rel="icon" href="/favicon.svg" type="image/svg+xml">
        <link rel="manifest" href="/site.webmanifest">
		<style>
			:root {
				color-scheme: light dark;
				--bg: #ffffff;
				--fg: #111827;
				--muted-fg: #374151;
				--link: #1d4ed8;
				--link-visited: #6d28d9;
				--focus: #f59e0b;
			}

			@media (prefers-color-scheme: dark) {
				:root {
					--bg: #0b1220;
					--fg: #e5e7eb;
					--muted-fg: #cbd5e1;
					--link: #93c5fd;
					--link-visited: #c4b5fd;
					--focus: #fbbf24;
				}
			}

			*,
			*::before,
			*::after {
				box-sizing: border-box;
			}

			html,
			body {
				background: var(--bg);
				color: var(--fg);
				height: 100dvh;
				overflow: hidden;
			}

			body {
				font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
				line-height: 1.55;
				margin: 0;
				padding: 48px 20px;
				display: flex;
				flex-direction: column;
				overflow-y: auto;
			}

			.skip-link {
				position: absolute;
				top: 12px;
				left: 12px;
				padding: 10px 12px;
				background: var(--bg);
				color: var(--fg);
				border: 2px solid var(--focus);
				border-radius: 8px;
				text-decoration: none;
				transform: translateY(-200%);
				transition: transform 120ms ease-in-out;
				z-index: 10;
			}

			.skip-link:focus,
			.skip-link:focus-visible {
				transform: translateY(0);
			}

			.visually-hidden {
				position: absolute;
				width: 1px;
				height: 1px;
				padding: 0;
				margin: -1px;
				overflow: hidden;
				clip: rect(0, 0, 0, 0);
				white-space: nowrap;
				border: 0;
			}

			a {
				color: var(--link);
				text-decoration-thickness: 0.12em;
				text-underline-offset: 0.16em;
			}

			a:visited {
				color: var(--link-visited);
			}

			a:focus-visible {
				outline: 3px solid var(--focus);
				outline-offset: 3px;
				border-radius: 4px;
			}

			hr {
				margin: 32px 0;
				border: none;
				height: 1px;
				background: var(--muted-fg);
			}

			.btn {
				display: inline-block;
				padding: 12px 24px;
				background: #000000;
				color: #ffffff !important;
				text-decoration: none !important;
				border-radius: 8px;
				font-weight: 600;
				transition: all 0.2s ease;
				display: inline-flex;
				align-items: center;
				gap: 8px;
			}

			.btn:hover {
				background: #1a1a1a;
				color: #ffffff !important;
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
			}

			.btn:visited {
				color: #ffffff !important;
			}

			.btn:focus-visible {
				outline: 3px solid var(--focus);
				outline-offset: 2px;
				color: #ffffff !important;
			}

			@media (prefers-color-scheme: dark) {
				.btn {
					background: #ffffff;
					color: #000000 !important;
				}

				.btn:hover {
					background: #e0e0e0;
					color: #000000 !important;
				}

				.btn:visited {
					color: #000000 !important;
				}

				.btn:focus-visible {
					color: #000000 !important;
				}
			}

			.btn-container {
				text-align: center;
				margin: 24px 0;
			}

			@media (prefers-reduced-motion: reduce) {
				.btn {
					transition: none;
				}

				.btn:hover {
					transform: none;
				}
			}

			main {
				max-width: 70ch;
				margin: 0 auto;
				flex: 1;
			}

			h1 {
				margin: 0 0 0.75rem;
				font-size: 1.6rem;
			}

			p {
				margin: 0 0 1rem;
			}

			.github-stats {

				border-top: 2px solid var(--muted-fg);
			}

			#github-container {
				min-height: 600px;
			}

			.skeleton {
				background: linear-gradient(90deg, var(--muted-fg) 25%, var(--fg) 50%, var(--muted-fg) 75%);
				background-size: 200% 100%;
				animation: skeleton-loading 1.5s infinite;
			}

			@keyframes skeleton-loading {
				0% { background-position: 200% 0; }
				100% { background-position: -200% 0; }
			}

			.skeleton-card {
				background: var(--bg);
				border: 2px solid var(--muted-fg);
				border-radius: 12px;
				padding: 24px;
				height: 180px;
			}

			.skeleton-text {
				height: 24px;
				margin-bottom: 12px;
				border-radius: 4px;
				width: 80%;
			}

			.skeleton-text-small {
				height: 16px;
				border-radius: 4px;
				width: 60%;
			}

			@media (prefers-reduced-motion: reduce) {
				.skeleton {
					animation: none;
					background: var(--muted-fg);
				}
			}

			.stats-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
				gap: 24px;
				margin-top: 24px;
			}

			.stat-card {
				background: var(--bg);
				border: 2px solid var(--muted-fg);
				border-radius: 12px;
				padding: 24px;
				transition: transform 0.2s ease, box-shadow 0.2s ease;
			}

			.stat-card:hover {
				transform: translateY(-4px);
				box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
			}

			.stat-card h3 {
				margin: 0 0 16px;
				font-size: 1.2rem;
				color: var(--fg);
			}

			.stat-value {
				font-size: 2.5rem;
				font-weight: bold;
				margin: 8px 0;
				background: linear-gradient(135deg, var(--link), var(--link-visited));
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				background-clip: text;
			}

			.stat-label {
				font-size: 0.875rem;
				color: var(--muted-fg);
				text-transform: uppercase;
				letter-spacing: 0.05em;
			}

			.language-bar {
				margin: 12px 0;
			}

			.language-bar-fill {
				height: 8px;
				background: linear-gradient(90deg, var(--link), var(--link-visited));
				border-radius: 4px;
				transition: width 0.3s ease;
			}

			.language-item {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin: 8px 0;
				font-size: 0.9rem;
			}

			.language-name {
				display: flex;
				align-items: center;
				gap: 8px;
			}

			.language-dot {
				width: 12px;
				height: 12px;
				border-radius: 50%;
				display: inline-block;
			}

			.repo-list {
				list-style: none;
				padding: 0;
				margin: 0;
			}

			.repo-item {
				padding: 12px 0;
				border-bottom: 1px solid var(--muted-fg);
			}

			.repo-item:last-child {
				border-bottom: none;
			}

			.repo-name {
				font-weight: 600;
				margin-bottom: 4px;
			}

			.repo-description {
				font-size: 0.875rem;
				color: var(--muted-fg);
			}

			.loading {
				text-align: center;
				padding: 24px;
				color: var(--muted-fg);
			}

			.error {
				text-align: center;
				padding: 24px;
				color: #ef4444;
			}

			@keyframes pulse {
				0%, 100% { opacity: 1; }
				50% { opacity: 0.5; }
			}

			.loading {
				animation: pulse 2s ease-in-out infinite;
			}

			/* Respect reduced motion preferences */
			@media (prefers-reduced-motion: reduce) {
				.stat-card {
					transition: none;
				}

				.stat-card:hover {
					transform: none;
				}

				.language-bar-fill {
					transition: none;
				}

				.loading {
					animation: none;
				}
			}

			/* Ensure gradient text has fallback color */
			@supports not (background-clip: text) {
				.stat-value {
					color: var(--link);
					background: none;
					-webkit-text-fill-color: unset;
				}
			}
		</style>
	</head>
	<body>

		<!-- Google Tag Manager (noscript) -->
		<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W8RGXCTR"
		height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
		<!-- End Google Tag Manager (noscript) -->
		
		<a class="skip-link" href="#main">Skip to content</a>
		<main id="main" tabindex="-1">
			<h1>We've never been closer.</h1>

			<p>This domain name is primarily used for sending and receiving email.</p>

			<p>
				We have set up DKIM, SPF and DMARC records to help allow you to identify legitimate email
				from this domain.
			</p>

			<p>
				If you have received email from @theflat.gen.nz that you believe is spam, it is likely that
				the email did not actually originate from us. You can double check the email
				headers and find the source IP address of the sender to report it to that provider.
				You‚Äôre welcome to CC us and for any other issues you can contact us via email at:
			</p>

			<p><a href="mailto:email@theflat.gen.nz">email@theflat.gen.nz</a></p>

			<hr>

			<!-- Development Aspirations Section -->
		<section>
				<h2>Development</h2>
				
				<p>
					We play around with various programming languages and frameworks.
					Along the way we struggle with environments, editors, workflows, CI and automation.
					Sometimes we manage to produce working code.
				</p>
				
			<div class="btn-container">
				<a href="https://github.com/octopusnz" class="btn" target="_blank" rel="noopener">
					<span>Visit GitHub</span>
					<span aria-hidden="true">‚Üí</span>
				</a>
			</div>

			<hr>

		<section>
			<h2>What is the octopus stuff all about?</h2>
			<p>
				In a previous job our team used to joke that you needed eight arms to complete all the 
				tasks we were assigned. This led to the development of an "octopus methodology", 
				effectively juggling many tasks at the same time. We've kept that branding as a lighthearted 
				reminder of what can be achieved with great people and a good attitude.
			</p>
		</section>

		<hr>

		<!-- GitHub Stats Section -->
			<section class="github-stats" aria-labelledby="github-heading">
				<h2 id="github-heading">GitHub Statistics</h2>
				<div id="github-container" role="region" aria-live="polite" aria-busy="true">
					<div class="stats-grid">
						<div class="skeleton-card">
							<div class="skeleton skeleton-text"></div>
							<div class="skeleton skeleton-text" style="width: 100%; height: 40px; margin: 16px 0;"></div>
							<div class="skeleton skeleton-text-small"></div>
						</div>
						<div class="skeleton-card">
							<div class="skeleton skeleton-text"></div>
							<div class="skeleton skeleton-text" style="width: 100%; height: 40px; margin: 16px 0;"></div>
							<div class="skeleton skeleton-text-small"></div>
						</div>
						<div class="skeleton-card">
							<div class="skeleton skeleton-text"></div>
							<div class="skeleton skeleton-text" style="width: 100%; height: 40px; margin: 16px 0;"></div>
							<div class="skeleton skeleton-text-small"></div>
						</div>
						<div class="skeleton-card">
							<div class="skeleton skeleton-text"></div>
							<div class="skeleton skeleton-text" style="width: 100%; height: 40px; margin: 16px 0;"></div>
							<div class="skeleton skeleton-text-small"></div>
						</div>
					</div>
				</div>
			</section>
		</section>

		</main>

		<footer style="margin-top: 48px; padding-top: 24px; border-top: 1px solid var(--muted-fg); font-size: 0.875rem; color: var(--muted-fg);">
			<p style="margin: 0;">Octopus favicons based on icons created by <a href="https://www.flaticon.com/free-icons/octopus">Freepik - Flaticon</a></p>
		</footer>

		<script>
			// Language colors (GitHub standard colors)
			const languageColors = {
				'JavaScript': '#f1e05a',
				'TypeScript': '#3178c6',
				'Python': '#3572A5',
				'Java': '#b07219',
				'C++': '#f34b7d',
				'C': '#555555',
				'C#': '#178600',
				'PHP': '#4F5D95',
				'Ruby': '#701516',
				'Go': '#00ADD8',
				'Rust': '#dea584',
				'Swift': '#F05138',
				'Kotlin': '#A97BFF',
				'Dart': '#00B4AB',
				'Shell': '#89e051',
				'HTML': '#e34c26',
				'CSS': '#563d7c',
				'Vue': '#41b883',
				'React': '#61dafb'
			};

			function formatNumber(num) {
				if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
				if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
				return num.toString();
			}

			function renderLanguageStats(languageStats) {
				const totalBytes = Object.values(languageStats).reduce((sum, bytes) => sum + bytes, 0);
				const sortedLanguages = Object.entries(languageStats)
					.sort(([, a], [, b]) => b - a)
					.slice(0, 5);

				const html = sortedLanguages.map(([lang, bytes]) => {
					const percentage = ((bytes / totalBytes) * 100).toFixed(1);
					const color = languageColors[lang] || '#8b8b8b';
					
					return `
						<div class="language-item">
							<div class="language-name">
								<span class="language-dot" style="background-color: ${color};" aria-hidden="true"></span>
								<span>${lang}</span>
							</div>
							<span>${percentage}%</span>
						</div>
						<div class="language-bar" role="progressbar" aria-label="${lang} usage" aria-valuenow="${percentage}" aria-valuemin="0" aria-valuemax="100">
							<div class="language-bar-fill" style="width: ${percentage}%; background: ${color};"></div>
						</div>
					`;
				}).join('');

				return html;
			}

			function renderTopRepositories(repos) {
				const html = repos.map(repo => `
					<li class="repo-item">
						<div class="repo-name">
							<a href="${repo.html_url}" target="_blank" rel="noopener">
								${repo.name}<span class="visually-hidden"> (opens in new tab)</span>
							</a>
							${repo.stargazers_count > 0 ? `<span aria-label="${repo.stargazers_count} stars">‚≠ê ${repo.stargazers_count}</span>` : ''}
						</div>
						${repo.description ? `<div class="repo-description">${repo.description}</div>` : ''}
					</li>
				`).join('');

				return `<ul class="repo-list">${html}</ul>`;
			}

			async function displayGitHubStats() {
				const container = document.getElementById('github-container');

				try {
					// Load pre-generated stats from JSON file
					const response = await fetch('./github-stats.json');
					if (!response.ok) throw new Error('Stats file not found');
					
					const data = await response.json();

					// Render stats cards
					container.innerHTML = `
						<div class="stats-grid">
							<div class="stat-card">
								<h3><span aria-hidden="true">üìä</span> <span>Total Repositories</span></h3>
								<div class="stat-value">${data.total_repos}</div>
								<div class="stat-label">Public Repositories</div>
							</div>

							<div class="stat-card">
								<h3><span aria-hidden="true">üíª</span> <span>Lines of Code</span></h3>
								<div class="stat-value">${formatNumber(data.total_lines)}</div>
								<div class="stat-label">Approximate Total</div>
							</div>

							<div class="stat-card">
								<h3><span aria-hidden="true">üëÄ</span> <span>Total Watchers</span></h3>
								<div class="stat-value">${data.total_watchers}</div>
								<div class="stat-label">Across All Repos</div>
							</div>

							<div class="stat-card">
								<h3><span aria-hidden="true">üë•</span> <span>Followers</span></h3>
								<div class="stat-value">${data.followers}</div>
								<div class="stat-label">GitHub Followers</div>
							</div>
						</div>

						<div class="stats-grid" style="margin-top: 24px;">
							<div class="stat-card" style="grid-column: 1 / -1;">
								<h3><span aria-hidden="true">üî§</span> <span>Top Languages</span></h3>
								${renderLanguageStats(data.languages)}
							</div>

							<div class="stat-card" style="grid-column: 1 / -1;">
								<h3><span aria-hidden="true">‚≠ê</span> <span>Top Repositories</span></h3>
								${renderTopRepositories(data.top_repos)}
							</div>
						</div>
						
						<p style="text-align: center; margin-top: 24px; font-size: 0.875rem; color: var(--muted-fg);">
							Last updated: ${new Date(data.updated_at).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
						</p>
					`;
						container.setAttribute('aria-busy', 'false');
				} catch (error) {
					container.innerHTML = `
						<div class="error" role="alert">
							<p><span aria-hidden="true">‚ùå</span> Error loading GitHub statistics</p>
							<p style="font-size: 0.875rem; margin-top: 8px;">
								Stats will be generated automatically by GitHub Actions. Please wait for the first run to complete.
							</p>
						</div>
					`;
					container.setAttribute('aria-busy', 'false');
				}
			}

			// Load stats when page loads
			displayGitHubStats();
		</script>
	</body>
</html>





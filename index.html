<!doctype html>
<html lang="en">
	<head>

		<!-- Google Tag Manager -->
		<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-W8RGXCTR');</script>
		<!-- End Google Tag Manager -->

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
		<meta name="theme-color" content="#0b1220" media="(prefers-color-scheme: dark)">
		<meta
			name="description"
			content="theflat.gen.nz we've never been closer."
		>
		<link rel="canonical" href="https://theflat.gen.nz/">

		<meta property="og:type" content="website">
		<meta property="og:title" content="theflat.gen.nz">
		<meta
			property="og:description"
			content="theflat.gen.nz we've never been closer."
		>
		<meta property="og:url" content="https://theflat.gen.nz/">

		<meta name="twitter:card" content="summary">
		<meta name="twitter:title" content="theflat.gen.nz">
		<meta
			name="twitter:description"
			content="theflat.gen.nz we've never been closer."
		>

		<script type="application/ld+json">
			{
				"@context": "https://schema.org",
				"@graph": [
					{
						"@type": "WebSite",
						"@id": "https://theflat.gen.nz/#website",
						"url": "https://theflat.gen.nz/",
						"name": "theflat.gen.nz",
						"description": "theflat.gen.nz we've never been closer."
					},
					{
						"@type": "Organization",
						"@id": "https://theflat.gen.nz/#organization",
						"url": "https://theflat.gen.nz/",
						"name": "theflat.gen.nz",
						"contactPoint": [
							{
								"@type": "ContactPoint",
								"contactType": "abuse",
								"email": "abuse@theflat.gen.nz"
							}
						]
					}
				]
			}
		</script>
		<title>theflat.gen.nz</title>
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
		<style>
			:root {
				color-scheme: light dark;
				--bg: #ffffff;
				--fg: #111827;
				--muted-fg: #374151;
				--link: #1d4ed8;
				--link-visited: #6d28d9;
				--focus: #f59e0b;
			}

			@media (prefers-color-scheme: dark) {
				:root {
					--bg: #0b1220;
					--fg: #e5e7eb;
					--muted-fg: #cbd5e1;
					--link: #93c5fd;
					--link-visited: #c4b5fd;
					--focus: #fbbf24;
				}
			}

			*,
			*::before,
			*::after {
				box-sizing: border-box;
			}

			html,
			body {
				background: var(--bg);
				color: var(--fg);
				height: 100dvh;
				overflow: hidden;
			}

			body {
				font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
				line-height: 1.55;
				margin: 0;
				padding: 48px 20px;
				display: flex;
				flex-direction: column;
				overflow-y: auto;
			}

			.skip-link {
				position: absolute;
				top: 12px;
				left: 12px;
				padding: 10px 12px;
				background: var(--bg);
				color: var(--fg);
				border: 2px solid var(--focus);
				border-radius: 8px;
				text-decoration: none;
				transform: translateY(-200%);
				transition: transform 120ms ease-in-out;
				z-index: 10;
			}

			.skip-link:focus,
			.skip-link:focus-visible {
				transform: translateY(0);
			}

			a {
				color: var(--link);
				text-decoration-thickness: 0.12em;
				text-underline-offset: 0.16em;
			}

			a:visited {
				color: var(--link-visited);
			}

			a:focus-visible {
				outline: 3px solid var(--focus);
				outline-offset: 3px;
				border-radius: 4px;
			}

			main {
				max-width: 70ch;
				margin: 0 auto;
				flex: 1;
			}

			h1 {
				margin: 0 0 0.75rem;
				font-size: 1.6rem;
			}

			p {
				margin: 0 0 1rem;
			}

			.github-stats {
				margin-top: 48px;
				padding-top: 48px;
				border-top: 2px solid var(--muted-fg);
			}

			.stats-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
				gap: 24px;
				margin-top: 24px;
			}

			.stat-card {
				background: var(--bg);
				border: 2px solid var(--muted-fg);
				border-radius: 12px;
				padding: 24px;
				transition: transform 0.2s ease, box-shadow 0.2s ease;
			}

			.stat-card:hover {
				transform: translateY(-4px);
				box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
			}

			.stat-card h3 {
				margin: 0 0 16px;
				font-size: 1.2rem;
				color: var(--fg);
			}

			.stat-value {
				font-size: 2.5rem;
				font-weight: bold;
				margin: 8px 0;
				background: linear-gradient(135deg, var(--link), var(--link-visited));
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				background-clip: text;
			}

			.stat-label {
				font-size: 0.875rem;
				color: var(--muted-fg);
				text-transform: uppercase;
				letter-spacing: 0.05em;
			}

			.language-bar {
				margin: 12px 0;
			}

			.language-bar-fill {
				height: 8px;
				background: linear-gradient(90deg, var(--link), var(--link-visited));
				border-radius: 4px;
				transition: width 0.3s ease;
			}

			.language-item {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin: 8px 0;
				font-size: 0.9rem;
			}

			.language-name {
				display: flex;
				align-items: center;
				gap: 8px;
			}

			.language-dot {
				width: 12px;
				height: 12px;
				border-radius: 50%;
				display: inline-block;
			}

			.repo-list {
				list-style: none;
				padding: 0;
				margin: 0;
			}

			.repo-item {
				padding: 12px 0;
				border-bottom: 1px solid var(--muted-fg);
			}

			.repo-item:last-child {
				border-bottom: none;
			}

			.repo-name {
				font-weight: 600;
				margin-bottom: 4px;
			}

			.repo-description {
				font-size: 0.875rem;
				color: var(--muted-fg);
			}

			.loading {
				text-align: center;
				padding: 24px;
				color: var(--muted-fg);
			}

			.error {
				text-align: center;
				padding: 24px;
				color: #ef4444;
			}

			@keyframes pulse {
				0%, 100% { opacity: 1; }
				50% { opacity: 0.5; }
			}

			.loading {
				animation: pulse 2s ease-in-out infinite;
			}
		</style>
	</head>
	<body>

		<!-- Google Tag Manager (noscript) -->
		<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W8RGXCTR"
		height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
		<!-- End Google Tag Manager (noscript) -->
		
		<a class="skip-link" href="#main">Skip to content</a>
		<main id="main" tabindex="-1">
			<h1>There‚Äôs not a lot here yet.</h1>

			<p>This domain name is primarily used for sending and receiving email.</p>

			<p>
				We have set up DKIM, SPF and DMARC records to help allow you to identify legitimate email
				from this domain.
			</p>

			<p>
				If you have received email from @theflat.gen.nz that you believe is spam, it is likely that
				the email did not actually originate from us. You can double check the email
				headers and find the source IP address of the sender to report it to that provider.
				You‚Äôre welcome to CC us and for any other issues you can contact us via email at:
			</p>

			<p><a href="mailto:abuse@theflat.gen.nz">abuse@theflat.gen.nz</a></p>

			<!-- GitHub Stats Section -->
			<section class="github-stats">
				<h2>GitHub Statistics</h2>
				<div id="github-container">
					<div class="loading">Loading GitHub statistics...</div>
				</div>
			</section>
		</main>

		<footer style="margin-top: 48px; padding-top: 24px; border-top: 1px solid var(--muted-fg); font-size: 0.875rem; color: var(--muted-fg);">
			<p style="margin: 0;">Octopus favicons based on icons created by <a href="https://www.flaticon.com/free-icons/octopus">Freepik - Flaticon</a></p>
		</footer>

		<script>
			// GitHub API Configuration
			const GITHUB_USERNAME = 'octopusnz'; // Replace with your GitHub username
			const GITHUB_TOKEN = ''; // Optional: Add a personal access token for higher rate limits

			// Language colors (GitHub standard colors)
			const languageColors = {
				'JavaScript': '#f1e05a',
				'TypeScript': '#3178c6',
				'Python': '#3572A5',
				'Java': '#b07219',
				'C++': '#f34b7d',
				'C': '#555555',
				'C#': '#178600',
				'PHP': '#4F5D95',
				'Ruby': '#701516',
				'Go': '#00ADD8',
				'Rust': '#dea584',
				'Swift': '#F05138',
				'Kotlin': '#A97BFF',
				'Dart': '#00B4AB',
				'Shell': '#89e051',
				'HTML': '#e34c26',
				'CSS': '#563d7c',
				'Vue': '#41b883',
				'React': '#61dafb'
			};

			async function fetchGitHubAPI(endpoint) {
				const headers = {
					'Accept': 'application/vnd.github.v3+json'
				};
				
				if (GITHUB_TOKEN) {
					headers['Authorization'] = `token ${GITHUB_TOKEN}`;
				}

				try {
					const response = await fetch(`https://api.github.com${endpoint}`, { headers });
					if (!response.ok) throw new Error(`GitHub API error: ${response.status}`);
					return await response.json();
				} catch (error) {
					console.error('Error fetching from GitHub API:', error);
					throw error;
				}
			}

			async function getUserData() {
				return await fetchGitHubAPI(`/users/${GITHUB_USERNAME}`);
			}

			async function getRepositories() {
				const repos = await fetchGitHubAPI(`/users/${GITHUB_USERNAME}/repos?per_page=100&sort=updated`);
				return repos.filter(repo => !repo.fork); // Exclude forked repos
			}

			async function getLanguageStats(repos) {
				const languageStats = {};
				
				for (const repo of repos.slice(0, 30)) { // Limit to avoid rate limits
					try {
						const languages = await fetchGitHubAPI(`/repos/${GITHUB_USERNAME}/${repo.name}/languages`);
						for (const [lang, bytes] of Object.entries(languages)) {
							languageStats[lang] = (languageStats[lang] || 0) + bytes;
						}
					} catch (error) {
						console.error(`Error fetching languages for ${repo.name}:`, error);
					}
				}
				
				return languageStats;
			}

			async function getCommitCount() {
				try {
					// Get recent events to estimate commit count
					const events = await fetchGitHubAPI(`/users/${GITHUB_USERNAME}/events/public?per_page=100`);
					const pushEvents = events.filter(event => event.type === 'PushEvent');
					const commitCount = pushEvents.reduce((sum, event) => sum + (event.payload.commits?.length || 0), 0);
					return commitCount;
				} catch (error) {
					console.error('Error fetching commit count:', error);
					return 0;
				}
			}

			async function getPullRequestCount() {
				try {
					const searchResults = await fetchGitHubAPI(`/search/issues?q=author:${GITHUB_USERNAME}+type:pr`);
					return searchResults.total_count || 0;
				} catch (error) {
					console.error('Error fetching PR count:', error);
					return 0;
				}
			}

			function formatNumber(num) {
				if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
				if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
				return num.toString();
			}

			function renderLanguageStats(languageStats) {
				const totalBytes = Object.values(languageStats).reduce((sum, bytes) => sum + bytes, 0);
				const sortedLanguages = Object.entries(languageStats)
					.sort(([, a], [, b]) => b - a)
					.slice(0, 5);

				const html = sortedLanguages.map(([lang, bytes]) => {
					const percentage = ((bytes / totalBytes) * 100).toFixed(1);
					const color = languageColors[lang] || '#8b8b8b';
					
					return `
						<div class="language-item">
							<div class="language-name">
								<span class="language-dot" style="background-color: ${color};"></span>
								<span>${lang}</span>
							</div>
							<span>${percentage}%</span>
						</div>
						<div class="language-bar">
							<div class="language-bar-fill" style="width: ${percentage}%; background: ${color};"></div>
						</div>
					`;
				}).join('');

				return html;
			}

			function renderTopRepositories(repos) {
				const topRepos = repos
					.sort((a, b) => b.stargazers_count - a.stargazers_count)
					.slice(0, 5);

				const html = topRepos.map(repo => `
					<li class="repo-item">
						<div class="repo-name">
							<a href="${repo.html_url}" target="_blank" rel="noopener">${repo.name}</a>
							${repo.stargazers_count > 0 ? `‚≠ê ${repo.stargazers_count}` : ''}
						</div>
						${repo.description ? `<div class="repo-description">${repo.description}</div>` : ''}
					</li>
				`).join('');

				return `<ul class="repo-list">${html}</ul>`;
			}

			async function displayGitHubStats() {
				const container = document.getElementById('github-container');

				try {
					// Fetch all data in parallel
					const [userData, repos] = await Promise.all([
						getUserData(),
						getRepositories()
					]);

					const [languageStats, commitCount, prCount] = await Promise.all([
						getLanguageStats(repos),
						getCommitCount(),
						getPullRequestCount()
					]);

					// Calculate total lines of code (approximate based on language stats)
					const totalLinesOfCode = Math.round(Object.values(languageStats).reduce((sum, bytes) => sum + bytes, 0) / 50); // Rough estimate: 50 bytes per line

					// Render stats cards
					container.innerHTML = `
						<div class="stats-grid">
							<div class="stat-card">
								<h3>üìä Total Repositories</h3>
								<div class="stat-value">${repos.length}</div>
								<div class="stat-label">Public Repositories</div>
							</div>

							<div class="stat-card">
								<h3>üíª Lines of Code</h3>
								<div class="stat-value">${formatNumber(totalLinesOfCode)}</div>
								<div class="stat-label">Approximate Total</div>
							</div>

							<div class="stat-card">
								<h3>üîÑ Recent Commits</h3>
								<div class="stat-value">${commitCount}+</div>
								<div class="stat-label">From Recent Activity</div>
							</div>

							<div class="stat-card">
								<h3>üîÄ Pull Requests</h3>
								<div class="stat-value">${formatNumber(prCount)}</div>
								<div class="stat-label">Total Created</div>
							</div>

							<div class="stat-card">
								<h3>üåü Total Stars</h3>
								<div class="stat-value">${repos.reduce((sum, repo) => sum + repo.stargazers_count, 0)}</div>
								<div class="stat-label">Across All Repos</div>
							</div>

							<div class="stat-card">
								<h3>üë• Followers</h3>
								<div class="stat-value">${userData.followers}</div>
								<div class="stat-label">GitHub Followers</div>
							</div>
						</div>

						<div class="stats-grid" style="margin-top: 24px;">
							<div class="stat-card" style="grid-column: 1 / -1;">
								<h3>üî§ Top Languages</h3>
								${renderLanguageStats(languageStats)}
							</div>

							<div class="stat-card" style="grid-column: 1 / -1;">
								<h3>‚≠ê Top Repositories</h3>
								${renderTopRepositories(repos)}
							</div>
						</div>
					`;
				} catch (error) {
					container.innerHTML = `
						<div class="error">
							<p>‚ùå Error loading GitHub statistics</p>
							<p style="font-size: 0.875rem; margin-top: 8px;">
								Make sure to replace 'YOUR_GITHUB_USERNAME' with your actual GitHub username in the code.
							</p>
						</div>
					`;
				}
			}

			// Load stats when page loads
			if (GITHUB_USERNAME !== 'YOUR_GITHUB_USERNAME') {
				displayGitHubStats();
			} else {
				document.getElementById('github-container').innerHTML = `
					<div class="error">
						<p>‚öôÔ∏è Configuration Required</p>
						<p style="font-size: 0.875rem; margin-top: 8px;">
							Please update the GITHUB_USERNAME constant in the script to your GitHub username.
						</p>
					</div>
				`;
			}
		</script>
	</body>
</html>




